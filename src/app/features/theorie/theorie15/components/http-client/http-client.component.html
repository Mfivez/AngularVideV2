<div class="concept"> 
    <h2>HttpClient : GÃ©rer les requÃªtes HTTP</h2> 
    
    <p><strong>HttpClient</strong> est un service intÃ©grÃ© d'Angular utilisÃ© pour effectuer des requÃªtes HTTP vers un serveur, comme des requÃªtes <strong>GET, POST, PUT, DELETE, etc</strong>. Il est basÃ© sur les Observables, ce qui permet de gÃ©rer de maniÃ¨re asynchrone les rÃ©ponses du serveur.</p>

    <hr>

    <h3>Les principales fonctionnalitÃ©s de <code>HttpClient</code> incluent :</h3>
    <ul>
        <li><p>Envoyer des requÃªtes HTTP.</p></li>
        <li><p>Intercepter les requÃªtes et rÃ©ponses.</p></li>
        <li><p>GÃ©rer les erreurs de maniÃ¨re centralisÃ©e.</p></li>
        <li><p>Configurer des en-tÃªtes et d'autres options HTTP.</p></li>
    </ul>
</div>

<br><br>

<div class="concept"> 
    <h2>Initialisation avec <code>provideHttpClient()</code></h2> 
    
    <p>Avec les derniÃ¨res versions d'Angular, vous devez configurer le <strong>HttpClient</strong> dans le root de votre application en utilisant <code>provideHttpClient()</code>. 
    Cela permet Ã  Angular de fournir le service <code>HttpClient</code> dans toute l'application.</p>

    <hr>

    <h3>Configuration du <code>AppModule</code> :</h3>
    <img [src]="imageUrl1"><br>
    
    <hr>

    <p><strong>Explication :</strong><code>provideHttpClient()</code> est ajoutÃ© dans les <code>providers</code> de l'AppModule, garantissant que le service <code>HttpClient</code> est disponible partout dans l'application.</p>
</div>

<br><br>

<div class="concept"> 
    <h2>RequÃªtes HTTP simples avec HttpClient</h2> 
    
    <p>Une fois <code>HttpClient</code> configurÃ©, vous pouvez l'injecter dans vos services ou composants pour effectuer des requÃªtes HTTP.</p>
    
    <hr>
    
    <h3>Exemple GET basique :</h3>
    <p><strong>DÃ©claration :</strong></p>
    <img [src]="imageUrl2"><br>

    <hr>

    <p><strong>Utilisation :</strong></p>
    <img [src]="imageUrl3"><br>

    <hr>

    <p><strong>Explication :</strong> <code>this.httpClient.get()</code> est utilisÃ© pour envoyer une requÃªte GET qui retourne un Observable, vous permettant de souscrire Ã  la rÃ©ponse.</p>
</div>

<br><br>

<div class="concept"> 
    <h2>Configurer les requÃªtes HTTP</h2> 
    <p>Lorsque vous effectuez des requÃªtes HTTP, vous pouvez passer des options supplÃ©mentaires, comme des en-tÃªtes, des paramÃ¨tres ou des configurations spÃ©cifiques. Cela se fait via un objet d'options.</p>

    <hr>
    
    <h3>Exemple d'options :</h3>

    <p><strong>DÃ©claration :</strong></p>
    <img [src]="imageUrl4"><br>

    <hr>

    <p><strong>Utilisation :</strong></p>
    <img [src]="imageUrl5"><br>

    <hr>

    <p><strong>Explication :</strong> Dans cet exemple, nous envoyons une requÃªte GET avec des options supplÃ©mentaires, comme des en-tÃªtes d'autorisation et des paramÃ¨tres de requÃªte.</p>
</div>

<br><br>

<div class="concept"> 
    <h2>Http Interceptors</h2> 
    
    <p>Les <strong>Http Interceptors</strong> sont des classes qui interceptent chaque requÃªte HTTP sortante et la rÃ©ponse entrante. Ils sont souvent utilisÃ©s pour ajouter des en-tÃªtes comme les jetons d'authentification ou pour gÃ©rer les erreurs de maniÃ¨re globale.</p>

    <hr>
    
    <h3>Exemples :</h3>

    <p><strong>TokenInterceptor :</strong></p>
    <img [src]="imageUrl6"><br>

    <hr>

    <p><strong>ErrorInterceptor :</strong></p>
    <img [src]="imageUrl8"><br>

    <hr>

    <p><strong>ParamÃ¨trage :</strong></p>
    <img [src]="imageUrl7"><br>

    <hr>
    <p><strong>Explication : </strong>Dans cet exemple, un <code>TokenInterceptor</code> est configurÃ© dans le module principal. Cet Interceptor ajoute un jeton d'autorisation Ã  chaque requÃªte sortante.</p>

    <p><strong>Astuce :</strong> Les Interceptors sont trÃ¨s utiles pour implÃ©menter des mÃ©canismes d'authentification, comme les tokens JWT, de maniÃ¨re centralisÃ©e dans toute l'application.</p>
</div>
<br><br>

<div class="concept"> 
    <h2>Gestion des erreurs</h2> 
    
    <p>La gestion des erreurs dans <code>HttpClient</code> est un aspect essentiel, surtout lorsqu'il s'agit d'appels Ã  des services externes. En cas d'erreur, l'Observable Ã©met une erreur, que vous pouvez capturer et gÃ©rer avec <code>catchError()</code>.</p>

    <hr>
    
    <h3>Exemple :</h3>
    <p><strong>DÃ©claration :</strong></p>
    <img [src]="imageUrl9"><br>

    <hr>

    <p><strong>Utilisation :</strong></p>
    <img [src]="imageUrl10"><br>

    <hr>

    <p><strong>Explication :</strong>Dans cet exemple, nous capturons les erreurs Ã  l'aide de <code>catchError()</code>, qui permet de gÃ©rer les diffÃ©rentes erreurs de maniÃ¨re centralisÃ©e dans le code.</p>

    <p><strong>Astuce :</strong> Il est recommandÃ© de gÃ©rer les erreurs cÃ´tÃ© serveur (ex. : erreurs 404 ou 500) afin d'informer correctement l'utilisateur.</p>
</div>

<br><br>

<div class="concept"> 
    <h2>Envoyer des donnÃ©es - HttpClient</h2> 
    
    <p>En plus des requÃªtes GET, HttpClient vous permet Ã©galement d'envoyer des donnÃ©es au serveur via des requÃªtes POST, PUT ou DELETE.</p>
    <hr>
    
    <h3>Exemple POST :</h3>
    <img [src]="imageUrl11"><br>

    <hr>
     
    <p><strong>Explication :</strong><code>httpClient.post()</code> est utilisÃ© ici pour envoyer des donnÃ©es JSON au serveur. Vous pouvez aussi passer des en-tÃªtes et des options de requÃªte comme avec GET.</p>
</div>

<br><br>

<div class="concept"> 
    <h2>Utiliser HttpClient avec les Observables</h2> 
    
    <p>Toutes les mÃ©thodes d'HttpClient renvoient des <strong>Observables</strong>, ce qui signifie que vous pouvez tirer parti des fonctionnalitÃ©s RxJS pour gÃ©rer les flux de donnÃ©es asynchrones, transformer les rÃ©ponses, et gÃ©rer les erreurs efficacement.</p>

    <p>Par exemple, vous pouvez utiliser des opÃ©rateurs comme <code>map()</code> ou <code>catchError()</code> pour transformer ou capturer les erreurs des requÃªtes HTTP.</p>

    <hr>

    <h3>Exemple :</h3>
    <img [src]="imageUrl12"><br>
</div>

<br><br>

<div class="concept">
    <h2>Json-server - Simuler une API REST</h2>
    
    <p>Le Json-server est un outil pratique pour simuler une API REST Ã  partir d'un simple fichier JSON. Il est souvent utilisÃ© en dÃ©veloppement pour tester des fonctionnalitÃ©s qui interagissent avec des API sans avoir Ã  configurer un serveur rÃ©el.</p>

    <hr>
    <h3>Installation :</h3>
    <p><code>npm install -g json-server</code></p>
    
    <hr>
    <h3>CrÃ©ation d'une fake DB :</h3>
    <p>Comme fait dans la dÃ©monstration de l'HttpClient, une fois le Json-server installÃ©, nous <strong class="warning">devons</strong> crÃ©er un nouveau fichier .json et <strong class="warning">pouvons</strong> le prÃ©-remplir.</p>  
    <img [src]="imageUrl13">

    <hr>
    <h3>DÃ©marrer le serveur :</h3>
    <p><code>json-server src\app\features\demos\demo15\tools\database\fakeDb.json start</code></p>
    <img [src]="imageUrl14">

    <hr>
    <h3>Une phrase de fin : </h3>
    <p>Vous Ãªtes dÃ©sormais prÃªt Ã  utilisez l'<code>HttpClient</code> pour intÃ©ragir avec votre json-server sur l'adresse <code>http://localhost:3000</code> !ğŸ˜</p>
</div>

<br><br>

